(window["webpackJsonpreact-kabzda-1"]=window["webpackJsonpreact-kabzda-1"]||[]).push([[0],{13:function(e,t,n){e.exports={nav:"Navbar_nav__2JAyT",item:"Navbar_item__mW7wb",active:"Navbar_active__1rBCx",navbarFriends:"Navbar_navbarFriends__1cWPT",navbarFriendsList:"Navbar_navbarFriendsList__3a9KR"}},133:function(e,t,n){},134:function(e,t,n){e.exports={currentPage:"Users_currentPage__2C6PQ",paginationIem:"Users_paginationIem__2k1g7",userAva:"Users_userAva__1IXUy"}},135:function(e,t,n){e.exports=n.p+"static/media/preloader.42012b3b.gif"},136:function(e,t,n){e.exports={userAva:"UserItem_userAva__2LKPX"}},138:function(e,t,n){e.exports={profileDescription:"ProfileInfo_profileDescription__2hYhW"}},139:function(e,t,n){e.exports={item:"Post_item__2BGeQ"}},167:function(e,t,n){e.exports=n(294)},168:function(e,t,n){},251:function(e,t,n){},29:function(e,t,n){e.exports={formControl:"FormControl_formControl__EMft-",error:"FormControl_error__1HGmr",formError:"FormControl_formError__ZN-_q"}},294:function(e,t,n){"use strict";n.r(t);n(168),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(6),r=n(10),o=n.n(r),s=n(19),i=n(38),c=n(18),u=n(128),l=n.n(u).a.create({withCredentials:!0,headers:{"API-KEY":"5995d704-6605-4021-be3a-75799fb9ae6d"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),p={getUsers:function(e,t){return l.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return l.post("follow/".concat(e)).then((function(e){return e.data}))},unFollow:function(e){return l.delete("follow/".concat(e)).then((function(e){return e.data}))}},m=function(){return l.get("auth/me").then((function(e){return e.data}))},f=function(e,t,n){return l.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},d=function(){return l.delete("auth/login").then((function(e){return e.data}))},g=function(e){return l.get("profile/".concat(e)).then((function(e){return e.data}))},v=function(e){return l.get("profile/status/".concat(e)).then((function(e){return e.data}))},b=function(e){return l.put("profile/status",{status:e}).then((function(e){return e.data}))};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={profile:null,postsData:[{id:1,postText:"First post",likesCount:5},{id:2,postText:"Second post",likesCount:3},{id:3,postText:"some text",likesCount:25},{id:4,postText:"more some text",likesCount:1}],status:""},w=function(e){return{type:"Set_User_Profile",profile:e}},y=function(e){return{type:"Set_User_Status",status:e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n=e.postsData.length+1,a={id:n,postText:t.newPostText,likesCount:0};return E({},e,{postsData:[].concat(Object(i.a)(e.postsData),[a])});case"Set_User_Profile":return E({},e,{profile:t.profile});case"Set_User_Status":return E({},e,{status:t.status});case"DELETE_POST":return E({},e,{postsData:e.postsData.filter((function(e){return e.id!==t.postId}))});default:return e}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={messagesData:[{id:1,messageText:"Hello! How are you?"},{id:2,messageText:"I'm develope my own social network"},{id:3,messageText:"Wow! It's amazing!"},{id:4,messageText:"Yes!"}],dialogsData:[{id:1,name:"User 1",avaUrl:"http://pikchyriki.net/avatar/prikolnye/100/12.jpg"},{id:2,name:"User 2",avaUrl:"http://pikchyriki.net/avatar/prikolnye/100/12.jpg"},{id:3,name:"User 3",avaUrl:"http://pikchyriki.net/avatar/prikolnye/100/12.jpg"},{id:4,name:"User 4",avaUrl:"http://pikchyriki.net/avatar/prikolnye/100/12.jpg"},{id:5,name:"User 5",avaUrl:"http://pikchyriki.net/avatar/prikolnye/100/12.jpg"},{id:6,name:"User 6",avaUrl:"http://pikchyriki.net/avatar/prikolnye/100/12.jpg"},{id:7,name:"User 7",avaUrl:"http://pikchyriki.net/avatar/prikolnye/100/12.jpg"}]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"sendMessage":var n=e.messagesData.length+1,a={id:n,messageText:t.newMessageText};return _({},e,{messagesData:[].concat(Object(i.a)(e.messagesData),[a])});default:return e}},N={navbarFriends:[{id:1,name:"Friend 1",avaUrl:"http://www.alluserpics.com/data/thumbnails/17/03178.jpg"},{id:2,name:"Friend 2",avaUrl:"http://www.alluserpics.com/data/thumbnails/17/03172.jpg"},{id:3,name:"Friend 3",avaUrl:"http://www.alluserpics.com/data/thumbnails/17/03102.jpg"}]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;arguments.length>1&&arguments[1];return e};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var U=function(e,t,n,a){return e.map((function(e){return e[t]===n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},a):e}))};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={users:[],pageSize:10,totalCount:0,currentPage:1,isFetching:!0,isFollowingProgress:[]},I=function(e){return{type:"FOLLOW",userId:e}},A=function(e){return{type:"UNFOLLOW",userId:e}},L=function(e){return{type:"SETUSERS",users:e}},M=function(e){return{type:"TOGGLEISFETCHING",isFetching:e}},z=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",userId:t,isFetching:e}},G=function(){var e=Object(s.a)(o.a.mark((function e(t,n,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z(!0,r)),e.next=3,a(r);case 3:0===e.sent.resultCode&&(t(n(r)),t(z(!1,r)));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return C({},e,{users:U(e.users,"id",t.userId,{followed:!0})});case"UNFOLLOW":return C({},e,{users:U(e.users,"id",t.userId,{followed:!1})});case"SETUSERS":return C({},e,{users:Object(i.a)(t.users)});case"SETUSERSCOUNT":return C({},e,{totalCount:t.totalCount});case"SETCURRENTPAGE":return C({},e,{currentPage:t.currentPage});case"TOGGLEISFETCHING":return C({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return C({},e,{isFollowingProgress:t.isFetching?[].concat(Object(i.a)(e.isFollowingProgress),[t.userId]):e.isFollowingProgress.filter((function(e){return e!==t.userId}))});default:return e}},W=n(40);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q={isFetching:!1,id:null,email:"",userName:"",isAuth:null},J=function(e,t,n,a){return{type:"Set_Users_Data",data:{id:e,email:t,userName:n,isAuth:a}}},Y=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:0===(n=e.sent).resultCode&&(a=n.data,r=a.id,s=a.email,i=a.login,t(J(r,s,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Z=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:0===e.sent.resultCode&&t(J(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Set_Users_Data":return B({},e,{},t.data);case"SET_LOGINED_USER_DATA":return B({},e,{id:t.id,isAuth:!0});default:return e}},V=n(129),X=n(127);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={initialized:!1},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCSESS":return $({},e,{initialized:!0});default:return e}},ne=Object(a.c)({profilePage:P,dialogsPage:F,navbarFriends:k,usersPage:R,auth:K,form:X.a,appState:te}),ae=Object(a.e)(ne,Object(a.a)(V.a));window.store=ae;var re=ae,oe=n(0),se=n.n(oe),ie=n(62),ce=n.n(ie),ue=n(24),le=n(25),pe=n(27),me=n(26),fe=n(28),de=(n(251),n(9)),ge=n(13),ve=n.n(ge),be=n(67),he=n.n(be),Ee=n(89),Oe=n.n(Ee),we=function(e){return se.a.createElement("div",{className:Oe.a.navbarFriendItem},se.a.createElement("div",null,se.a.createElement("img",{className:Oe.a.navbarFriendAva,src:e.state.avaUrl,alt:"avka"})),se.a.createElement("div",null,e.state.name))},ye=function(e){var t=e.state.map((function(e){return se.a.createElement(we,{state:e,key:e.id})}));return se.a.createElement("div",{className:he.a.navbarFriends},se.a.createElement("h3",{className:he.a.navbarFriendsHeader},"Friends"),se.a.createElement("div",{className:he.a.navbarFriendsList},t))},Pe=n(8),je=Object(Pe.b)((function(e){return{state:e.navbarFriends.navbarFriends}}),(function(e){return{}}))(ye),_e=function(e){return se.a.createElement("nav",{className:ve.a.nav},se.a.createElement("div",{className:"".concat(ve.a.item," ").concat(ve.a.active)},se.a.createElement(de.b,{to:"/profile",activeClassName:ve.a.active},"Profile")),se.a.createElement("div",{className:ve.a.item},se.a.createElement(de.b,{to:"/dialogs",activeClassName:ve.a.active},"Dialogs")),se.a.createElement("div",{className:ve.a.item},se.a.createElement(de.b,{to:"/news",activeClassName:ve.a.active},"News")),se.a.createElement("div",{className:ve.a.item},se.a.createElement(de.b,{to:"/music",activeClassName:ve.a.active},"Music")),se.a.createElement("div",{className:ve.a.item},se.a.createElement(de.b,{to:"/settings",activeClassName:ve.a.active},"Settings")),se.a.createElement("div",{className:ve.a.item},se.a.createElement(de.b,{to:"/users",activeClassName:ve.a.active},"Users")),se.a.createElement(je,null))},Se=n(35),Fe=n.n(Se),Ne=n(68),ke=n.n(Ne),De=function(e){var t="/dialogs/"+e.id;return se.a.createElement("div",{className:ke.a.item},se.a.createElement("img",{className:ke.a.dialogItemAva,src:e.avaUrl,alt:"ava"}),se.a.createElement(de.b,{to:t,activeClassName:ke.a.active},e.name))},Ue=n(133),xe=n.n(Ue),Ce=function(e){return se.a.createElement("div",{className:xe.a.message},"".concat(e.messageText))},Te=n(34),Ie=n(125),Ae=n(126),Le=n(69),Me=n(29),ze=n.n(Me),Ge=function(e){var t=e.input,n=e.meta,a=Object(Le.a)(e,["input","meta"]),r=n.touched&&n.error;return se.a.createElement("div",{className:"".concat(ze.a.formControl," ").concat(r?ze.a.error:"")},se.a.createElement("div",null,se.a.createElement("textarea",Object.assign({},t,a))),se.a.createElement("div",null,r&&se.a.createElement("span",null,n.error)))},Re=function(e){var t=e.input,n=e.meta,a=Object(Le.a)(e,["input","meta"]),r=n.touched&&n.error;return se.a.createElement("div",{className:"".concat(ze.a.formControl," ").concat(r?ze.a.error:"")},se.a.createElement("div",null,se.a.createElement("input",Object.assign({},t,a))),se.a.createElement("div",null,r&&se.a.createElement("span",null,n.error)))},We=function(e){if(!e)return"Field is required"},He=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},Be=He(30),qe=Object(Ae.a)({form:"newMessageForm"})((function(e){return se.a.createElement("div",{className:Fe.a.sendMessage},se.a.createElement("form",{onSubmit:e.handleSubmit},se.a.createElement("div",{className:Fe.a.sendMessageTextarea},se.a.createElement(Ie.a,{placeholder:"new message",name:"newMessageText",component:Ge,type:"text",validate:[We,Be]})),se.a.createElement("div",null,se.a.createElement("button",{type:"submit"},"Send message"))))})),Je=function(e){var t=e.dialogsData.map((function(e){return se.a.createElement(De,{name:e.name,id:e.id,avaUrl:e.avaUrl,key:e.id})})),n=e.messagesData.map((function(e){return se.a.createElement(Ce,{messageText:e.messageText,key:e.id})}));if(!e.isAuth)return se.a.createElement(Te.a,{to:"/login"});return se.a.createElement("div",{className:Fe.a.dialogs},se.a.createElement("div",{className:Fe.a.dialogsList},se.a.createElement("span",{className:Fe.a.DialogsHeader},"Dialogs list"),t),se.a.createElement("div",{className:Fe.a.messages},n,se.a.createElement(qe,{onSubmit:function(t){e.onSendMessage(t.newMessageText)}})))},Ye=function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth}},Ze=function(e){var t=function(t){function n(){return Object(ue.a)(this,n),Object(pe.a)(this,Object(me.a)(n).apply(this,arguments))}return Object(fe.a)(n,t),Object(le.a)(n,[{key:"render",value:function(){return this.props.isAuth?se.a.createElement(e,this.props):se.a.createElement(Te.a,{to:"/login"})}}]),n}(se.a.Component);return Object(Pe.b)(Ye,{})(t)},Ke=Object(a.d)(Object(Pe.b)((function(e){return{dialogsData:e.dialogsPage.dialogsData,messagesData:e.dialogsPage.messagesData,newMessageText:e.dialogsPage.newMessageText}}),(function(e){return{onSendMessage:function(t){e(function(e){return{type:"sendMessage",newMessageText:e}}(t))}}})),Ze)(Je),Ve=function(e){return se.a.createElement("div",null,"Music")},Xe=function(e){return se.a.createElement("div",null,"News")},Qe=function(e){return se.a.createElement("div",null,"Settings")},$e=n(134),et=n.n($e),tt=n(135),nt=n.n(tt),at=function(e){return se.a.createElement("img",{src:nt.a,alt:"preloader"})},rt=n(52),ot=n(93),st=n.n(ot),it=function(e){for(var t=e.totalCount,n=e.pageSize,a=e.currentPage,r=e.setCurrentPage,o=e.getUsersFromPage,s=e.portionSize,i=void 0===s?10:s,c=Math.ceil(t/n),u=[],l=1;l<=c;l++)u.push(l);var p=Math.ceil(t/i),m=Object(oe.useState)(1),f=Object(rt.a)(m,2),d=f[0],g=f[1],v=(d-1)*i+1,b=d*i;return se.a.createElement("div",null,d>1?se.a.createElement("button",{onClick:function(){return g(d-1)}},"Prev"):"",u.filter((function(e){return e>=v&&e<=b})).map((function(e){return se.a.createElement("span",{key:e,onClick:function(){r(e),o(e)},className:a===e?st.a.currentPage:st.a.paginationIem},e)})),p>d?se.a.createElement("button",{onClick:function(){return g(d+1)}},"Next"):"")},ct=n(136),ut=n.n(ct),lt=function(e){var t=e.user,n=e.isFollowingProgress,a=e.follow,r=e.unFollow;return se.a.createElement("div",null,se.a.createElement("div",null,se.a.createElement(de.b,{to:"/profile/".concat(t.id)},se.a.createElement("img",{className:ut.a.userAva,src:null!=t.photos.small?t.photos.small:"http://www.alluserpics.com/data/thumbnails/17/03178.jpg",alt:"my ava"})),t.followed?se.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"Unfollow"):se.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"Follow")),se.a.createElement("div",null,se.a.createElement("span",null,t.name),se.a.createElement("div",null,se.a.createElement("span",null,t.status))))},pt=function(e){return se.a.createElement("div",null,e.isFetching?se.a.createElement(at,null):null,se.a.createElement("div",null,se.a.createElement(it,{totalCount:e.totalCount,pageSize:e.pageSize,currentPage:e.currentPage,setCurrentPage:e.setCurrentPage,getUsersFromPage:e.getUsersFromPage})),se.a.createElement("div",{className:et.a.usersList},se.a.createElement("div",null,e.users.map((function(t){return se.a.createElement(lt,{user:t,isFollowingProgress:e.isFollowingProgress,follow:e.follow,unFollow:e.unFollow,key:t.id})})))))},mt=n(137),ft=Object(mt.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),dt=function(e){return e.usersPage.pageSize},gt=function(e){return e.usersPage.totalCount},vt=function(e){return e.usersPage.currentPage},bt=function(e){return e.usersPage.isFetching},ht=function(e){return e.usersPage.isFollowingProgress},Et=function(e){function t(){return Object(ue.a)(this,t),Object(pe.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(fe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"getUsersFromPage",value:function(e){this.props.getUsersFromPage(e,this.props.pageSize)}},{key:"render",value:function(){return se.a.createElement(pt,{setCurrentPage:this.props.setCurrentPage,getUsersFromPage:this.getUsersFromPage.bind(this),currentPage:this.props.currentPage,users:this.props.users,unFollow:this.props.unFollow,follow:this.props.follow,isFetching:this.props.isFetching,isFollowingProgress:this.props.isFollowingProgress,totalCount:this.props.totalCount,pageSize:this.props.pageSize})}}]),t}(se.a.Component),Ot=Object(a.d)(Object(Pe.b)((function(e){return{users:ft(e),pageSize:dt(e),totalCount:gt(e),currentPage:vt(e),isFetching:bt(e),isFollowingProgress:ht(e)}}),{follow:function(e){return function(t){G(t,I,p.follow.bind(p),e)}},unFollow:function(e){return function(t){G(t,A,p.unFollow.bind(p),e)}},setCurrentPage:function(e){return{type:"SETCURRENTPAGE",currentPage:e}},requestUsers:function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(M(!0)),n.next=3,p.getUsers(e,t);case 3:r=n.sent,a(M(!1)),a(L(r.items)),a({type:"SETUSERSCOUNT",totalCount:r.totalCount});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},getUsersFromPage:function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(M(!0)),n.next=3,p.getUsers(e,t);case 3:r=n.sent,a(M(!1)),a(L(r.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),Ze)(Et),wt=n(138),yt=n.n(wt),Pt=function(e){var t=Object(oe.useState)(!1),n=Object(rt.a)(t,2),a=n[0],r=n[1],o=Object(oe.useState)(e.status),s=Object(rt.a)(o,2),i=s[0],c=s[1];return Object(oe.useEffect)((function(){c(e.status)}),[e.status]),se.a.createElement("div",null,!a&&se.a.createElement("div",null,se.a.createElement("span",{onDoubleClick:function(){r(!0)}},"My status: ",i)),a&&se.a.createElement("div",null,se.a.createElement("input",{onChange:function(e){c(e.currentTarget.value)},type:"text",value:i,onBlur:function(t){r(!1),e.updateUserStatus(i)},autoFocus:!0})))},jt=function(e){return e.profile?se.a.createElement("div",null,se.a.createElement("div",{className:yt.a.profileDescription},se.a.createElement(Pt,{status:e.status,updateUserStatus:e.updateUserStatus}),se.a.createElement("div",null,se.a.createElement("div",null,se.a.createElement("img",{src:e.profile.photos.small?e.profile.photos.small:"http://www.alluserpics.com/data/thumbnails/17/03178.jpg",alt:"ava-small"})),se.a.createElement("div",null,se.a.createElement("span",null,"Name: ",e.profile.fullName)),se.a.createElement("div",null,se.a.createElement("span",null,"About me: "),se.a.createElement("span",null,e.profile.aboutMe))))):se.a.createElement(at,null)},_t=n(94),St=n.n(_t),Ft=n(139),Nt=n.n(Ft),kt=function(e){return se.a.createElement("div",{className:Nt.a.item},e.message,se.a.createElement("div",null,se.a.createElement("span",null,e.likesCount," likes")))},Dt=He(10),Ut=Object(Ae.a)({form:"newPostForm"})((function(e){return se.a.createElement("div",null,se.a.createElement("form",{onSubmit:e.handleSubmit},se.a.createElement("div",null,se.a.createElement(Ie.a,{validate:[We,Dt],placeholder:"new post",name:"newPostText",component:Ge,type:"text"})),se.a.createElement("div",null,se.a.createElement("button",{type:"submit"},"Add post"))))})),xt=function(e){var t=e.postsData.map((function(e){return se.a.createElement(kt,{message:e.postText,likesCount:e.likesCount,key:e.id})}));return se.a.createElement("div",{className:St.a.myPosts},"my posts",se.a.createElement("div",null,se.a.createElement(Ut,{onSubmit:function(t){console.log("formData - ".concat(JSON.stringify(t))),e.addPost(t.newPostText)}})),se.a.createElement("div",{className:St.a.posts},t))},Ct=Object(Pe.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),{addPost:function(e){return function(t){t(function(e){return{type:"ADD_POST",newPostText:e}}(e))}}})(xt),Tt=function(e){return se.a.createElement("div",null,se.a.createElement(jt,e),se.a.createElement(Ct,null))},It=function(e){return e.auth.id},At=function(e){return e.profilePage.profile},Lt=function(e){return e.profilePage.status},Mt=function(e){function t(){return Object(ue.a)(this,t),Object(pe.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(fe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return se.a.createElement(Tt,this.props)}}]),t}(se.a.Component),zt=Object(a.d)(Object(Pe.b)((function(e){return{profile:At(e),status:Lt(e),authorizedUserId:It(e)}}),{getUserProfile:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:a=t.sent,n(w(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:a=t.sent,n(y(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:0===(a=t.sent).resultCode?n(y(e)):console.log("somesing wrong, status didn't change. response -  ".concat(JSON.stringify(a)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Te.f,Ze)(Mt),Gt=n(71),Rt=n.n(Gt),Wt=function(e){return se.a.createElement("header",{className:Rt.a.header},se.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRW1qL2UGNRENFDzCrqI2f-4w8JJUdbXTUYucNacGlqZEPpbTzR",alt:"logo"}),se.a.createElement("div",{className:Rt.a.loginBlock},e.isAuth?se.a.createElement("div",null,se.a.createElement(de.b,{to:"/profile/".concat(e.id)},se.a.createElement("span",{className:Rt.a.userName},e.userName)),se.a.createElement("button",{onClick:e.logOut},"Log Out")):se.a.createElement(de.b,{to:"/login"},"Login")))},Ht=function(e){function t(){return Object(ue.a)(this,t),Object(pe.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(fe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return se.a.createElement(Wt,this.props)}}]),t}(se.a.Component),Bt=Object(Pe.b)((function(e){return{isAuth:e.auth.isAuth,userName:e.auth.userName,id:e.auth.id}}),{logOut:Z})(Ht),qt=Object(Ae.a)({form:"logIn"})((function(e){var t=e.handleSubmit,n=e.error;return se.a.createElement("form",{onSubmit:t},se.a.createElement("div",null,se.a.createElement(Ie.a,{placeholder:"email",name:"email",component:Re,type:"text",validate:[We]})),se.a.createElement("div",null,se.a.createElement(Ie.a,{placeholder:"password",name:"password",component:Re,type:"text",validate:[We]})),se.a.createElement("div",null,se.a.createElement(Ie.a,{name:"rememberMe",component:Re,type:"checkbox"})," Remember Me"),n?se.a.createElement("div",{className:ze.a.formError},se.a.createElement("span",null,n)):"",se.a.createElement("button",{type:"submit"},"Sign In"))})),Jt=function(e){var t=e.logIn,n=e.isAuth,a=e.id;return n?se.a.createElement(Te.a,{to:"/profile/".concat(a)}):se.a.createElement("div",null,se.a.createElement("h1",null,"Login"),se.a.createElement(qt,{onSubmit:function(e){t(e)}}))},Yt=Object(a.d)(Object(Pe.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,id:e.auth.id}}),{logIn:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var a,r,s,i,c,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=B({},e),r=a.email,s=a.password,i=a.rememberMe,c=void 0!==i&&i,t.next=3,f(r,s,c);case 3:0===(u=t.sent).resultCode?n(Y()):1===u.resultCode&&n(Object(W.a)("logIn",{_error:"".concat(u.messages[0])}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logOut:Z}))(Jt),Zt=n(140),Kt=function(e){function t(){return Object(ue.a)(this,t),Object(pe.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(fe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?se.a.createElement("div",{className:"app-wrapper"},se.a.createElement(Bt,null),se.a.createElement(_e,null),se.a.createElement("div",{className:"app-wrapper-content"},se.a.createElement(Te.b,{path:"/login",render:function(){return se.a.createElement(Yt,null)}}),se.a.createElement(Te.b,{path:"/profile/:userId?",render:function(){return se.a.createElement(zt,null)}}),se.a.createElement(Te.b,{path:"/dialogs",render:function(){return se.a.createElement(Ke,null)}}),se.a.createElement(Te.b,{path:"/users",render:function(){return se.a.createElement(Ot,null)}}),se.a.createElement(Te.b,{path:"/music",component:Ve}),se.a.createElement(Te.b,{path:"/news",component:Xe}),se.a.createElement(Te.b,{path:"/settings",component:Qe}))):se.a.createElement(at,null)}}]),t}(se.a.Component),Vt=Object(Zt.a)(Te.f,Object(Pe.b)((function(e){return{initialized:e.appState.initialized}}),{initializeApp:function(){return function(e){e(Y()).then((function(){e({type:"INITIALIZED_SUCSESS"})}))}}}))(Kt);ce.a.render(se.a.createElement(de.a,null,se.a.createElement(Pe.a,{store:re},se.a.createElement(Vt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1S21S",dialogsList:"Dialogs_dialogsList__1YeBm",DialogsHeader:"Dialogs_DialogsHeader__2WNM5",messages:"Dialogs_messages__dqca3"}},67:function(e,t,n){e.exports={navbarFriends:"NavbarFriends_navbarFriends__3BNP3",navbarFriendsHeader:"NavbarFriends_navbarFriendsHeader__1s5rw",navbarFriendsList:"NavbarFriends_navbarFriendsList__1MtAV"}},68:function(e,t,n){e.exports={item:"DialogItem_item__3x3Pv",active:"DialogItem_active__1Vp0j",dialogItemAva:"DialogItem_dialogItemAva__1KNmp"}},71:function(e,t,n){e.exports={header:"Header_header__1JFua",loginBlock:"Header_loginBlock__40PZF",userName:"Header_userName__1By2b"}},89:function(e,t,n){e.exports={navbarFriendAva:"NavbarFriendItem_navbarFriendAva__3V76-"}},93:function(e,t,n){e.exports={currentPage:"Pagination_currentPage__1W46q",paginationIem:"Pagination_paginationIem__10a1-"}},94:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__1Dm4o",posts:"MyPosts_posts__1OWwY"}}},[[167,1,2]]]);
//# sourceMappingURL=main.1cfbd024.chunk.js.map